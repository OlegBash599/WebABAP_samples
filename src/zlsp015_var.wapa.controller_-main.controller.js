sap.ui.define([                                                                                                                                                                                                                                                
	"sap/ui/core/mvc/Controller",                                                                                                                                                                                                                                 
	"sap/ui/model/Filter",                                                                                                                                                                                                                                        
	"sap/ui/model/FilterOperator"                                                                                                                                                                                                                                 
], function(Controller, Filter, FilterOperator) {                                                                                                                                                                                                              
	"use strict";                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
	return Controller.extend("zlsp015_varid.controller.Main", {                                                                                                                                                                                                   
		                                                                                                                                                                                                                                                             
		onInit: function (oEvent) {                                                                                                                                                                                                                                  
			this._Router = sap.ui.core.UIComponent.getRouterFor(this);                                                                                                                                                                                                  
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		handleSuggest: function (oEvent) {                                                                                                                                                                                                                           
			sap.m.MessageToast.show("...hello world...");                                                                                                                                                                                                               
			this._fillSuggestItems_simple();                                                                                                                                                                                                                            
			this._fillSuggestItems_own_file();                                                                                                                                                                                                                          
		}                                                                                                                                                                                                                                                            
		                                                                                                                                                                                                                                                             
		, _fillSuggestItems_simple: function(){                                                                                                                                                                                                                      
			var sInputValue = this.byId("varIDinput").getValue();                                                                                                                                                                                                       
			var oModelJson = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                         
			                                                                                                                                                                                                                                                            
			var serviceUrl = "/sap/opu/odata/SAP/ZLS015_SRV";                                                                                                                                                                                                           
			var entityPath = "/VariableIDSet";                                                                                                                                                                                                                          
			var fullEntityPath = serviceUrl.toString()&nbsp;                                                                                                                                                                                                            
							   + entityPath.toString()                                                                                                                                                                                                                              
							   ;                                                                                                                                                                                                                                                    
			var filters4Set = [new Filter("Name", FilterOperator.Contains, sInputValue)];                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			oModelJson.loadData(fullEntityPath,"", true, "GET", true);                                                                                                                                                                                                  
			                                                                                                                                                                                                                                                            
			var that = this;                                                                                                                                                                                                                                            
			oModelJson.attachRequestCompleted(function() {                                                                                                                                                                                                              
				that.getView().setModel(oModelJson, "VariableIDSet");                                                                                                                                                                                                      
			});                                                                                                                                                                                                                                                         
			                                                                                                                                                                                                                                                            
		}                                                                                                                                                                                                                                                            
		                                                                                                                                                                                                                                                             
		, _fillSuggestItems_own_file: function(){                                                                                                                                                                                                                    
			                                                                                                                                                                                                                                                            
		}                                                                                                                                                                                                                                                            
		                                                                                                                                                                                                                                                             
		, onPress: function (oEvent) {                                                                                                                                                                                                                               
			var path2Property = oEvent.getSource().getBindingContextPath();                                                                                                                                                                                             
			if(path2Property){                                                                                                                                                                                                                                          
				var sVarPath = path2Property.toString() + "/Name";                                                                                                                                                                                                         
				var sVarTypePath = path2Property.toString() + "/VarType";                                                                                                                                                                                                  
				var sVariableName = this.getView().getModel("VariableIDSet").getProperty(sVarPath);                                                                                                                                                                        
				// sap.m.MessageToast.show(sVariableName.toString());                                                                                                                                                                                                      
				var sVarType = this.getView().getModel("VariableIDSet").getProperty(sVarTypePath);                                                                                                                                                                         
				                                                                                                                                                                                                                                                           
				// https://learn.javascript.ru/switch                                                                                                                                                                                                                      
				// https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/switch                                                                                                                                                                        
				switch(sVarType) {                                                                                                                                                                                                                                         
					case '1':                                                                                                                                                                                                                                                 
						break;                                                                                                                                                                                                                                                   
					case '2':                                                                                                                                                                                                                                                 
						this._goToSwitchView(sVariableName);                                                                                                                                                                                                                     
						break;                                                                                                                                                                                                                                                   
					case '3':                                                                                                                                                                                                                                                 
						this._goToRangeMaintenance(sVariableName);                                                                                                                                                                                                               
						break;                                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
				                                                                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
		}                                                                                                                                                                                                                                                            
		                                                                                                                                                                                                                                                             
		, _goToSwitchView: function(sSwitchName){                                                                                                                                                                                                                    
		//	sap.m.MessageToast.show("...переходим к Switch View: " + sSwitchName.toString() + "...");                                                                                                                                                                 
			sap.m.MessageToast.show(`...переходим к Switch View: ${sSwitchName.toString()}`);                                                                                                                                                                           
			this._Router.navTo("switchVar", {                                                                                                                                                                                                                           
					VarName: sSwitchName                                                                                                                                                                                                                                      
				});                                                                                                                                                                                                                                                        
		}                                                                                                                                                                                                                                                            
		                                                                                                                                                                                                                                                             
		, _goToRangeMaintenance: function(sRangeName){                                                                                                                                                                                                               
			sap.m.MessageToast.show(`...переходим к Switch View: ${sRangeName.toString()}`);                                                                                                                                                                            
			this._Router.navTo("rangeVar", {                                                                                                                                                                                                                            
					VarName: sRangeName                                                                                                                                                                                                                                       
				});                                                                                                                                                                                                                                                        
		}                                                                                                                                                                                                                                                            
		                                                                                                                                                                                                                                                             
	});                                                                                                                                                                                                                                                           
});                                                                                                                                                                                                                                                            