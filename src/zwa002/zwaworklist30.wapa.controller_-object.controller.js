/*global location*/                                                                                                                                                                                                                                            
sap.ui.define([                                                                                                                                                                                                                                                
		"zwaworklist30/ZWEBABAP_WORKLIST30/controller/BaseController",                                                                                                                                                                                               
		"sap/ui/model/json/JSONModel",                                                                                                                                                                                                                               
		"sap/ui/core/routing/History",                                                                                                                                                                                                                               
		"zwaworklist30/ZWEBABAP_WORKLIST30/model/formatter",                                                                                                                                                                                                         
		"zwaworklist30/ZWEBABAP_WORKLIST30/controller/ODataFeed"                                                                                                                                                                                                     
	], function (                                                                                                                                                                                                                                                 
		BaseController,                                                                                                                                                                                                                                              
		JSONModel,                                                                                                                                                                                                                                                   
		History,                                                                                                                                                                                                                                                     
		formatter,                                                                                                                                                                                                                                                   
		ODataFeed                                                                                                                                                                                                                                                    
	) {                                                                                                                                                                                                                                                           
		"use strict";                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
		return BaseController.extend("zwaworklist30.ZWEBABAP_WORKLIST30.controller.Object", {                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			formatter: formatter,                                                                                                                                                                                                                                       
			ODataFeed: ODataFeed,                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			/* =========================================================== */                                                                                                                                                                                           
			/* lifecycle methods                                           */                                                                                                                                                                                           
			/* =========================================================== */                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			/**                                                                                                                                                                                                                                                         
			 * Called when the worklist controller is instantiated.                                                                                                                                                                                                     
			 * @public                                                                                                                                                                                                                                                  
			 */                                                                                                                                                                                                                                                         
			onInit : function () {                                                                                                                                                                                                                                      
				// Model used to manipulate control states. The chosen values make sure,                                                                                                                                                                                   
				// detail page is busy indication immediately so there is no break in                                                                                                                                                                                      
				// between the busy indication for loading the view's meta data                                                                                                                                                                                            
				var iOriginalBusyDelay,                                                                                                                                                                                                                                    
					oViewModel = new JSONModel({                                                                                                                                                                                                                              
						busy : true,                                                                                                                                                                                                                                             
						delay : 0                                                                                                                                                                                                                                                
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				this.getRouter().getRoute("object").attachPatternMatched(this._onObjectMatched, this);                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				// Store original busy indicator delay, so it can be restored later on                                                                                                                                                                                     
				iOriginalBusyDelay = this.getView().getBusyIndicatorDelay();                                                                                                                                                                                               
				this.setModel(oViewModel, "objectView");                                                                                                                                                                                                                   
				this.getOwnerComponent().getModel().metadataLoaded().then(function () {                                                                                                                                                                                    
						// Restore original busy indicator delay for the object view                                                                                                                                                                                             
						oViewModel.setProperty("/delay", iOriginalBusyDelay);                                                                                                                                                                                                    
					}                                                                                                                                                                                                                                                         
				);                                                                                                                                                                                                                                                         
			},                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			/* =========================================================== */                                                                                                                                                                                           
			/* event handlers                                              */                                                                                                                                                                                           
			/* =========================================================== */                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			/**                                                                                                                                                                                                                                                         
			 * Event handler  for navigating back.                                                                                                                                                                                                                      
			 * It there is a history entry we go one step back in the browser history                                                                                                                                                                                   
			 * If not, it will replace the current entry of the browser history with the worklist route.                                                                                                                                                                
			 * @public                                                                                                                                                                                                                                                  
			 */                                                                                                                                                                                                                                                         
			onNavBack : function() {                                                                                                                                                                                                                                    
				var sPreviousHash = History.getInstance().getPreviousHash();                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
				if (sPreviousHash !== undefined) {                                                                                                                                                                                                                         
					history.go(-1);                                                                                                                                                                                                                                           
				} else {                                                                                                                                                                                                                                                   
					this.getRouter().navTo("worklist", {}, true);                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
			},                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			/* =========================================================== */                                                                                                                                                                                           
			/* internal methods                                            */                                                                                                                                                                                           
			/* =========================================================== */                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			/**                                                                                                                                                                                                                                                         
			 * Binds the view to the object path.                                                                                                                                                                                                                       
			 * @function                                                                                                                                                                                                                                                
			 * @param {sap.ui.base.Event} oEvent pattern match event in route 'object'                                                                                                                                                                                  
			 * @private                                                                                                                                                                                                                                                 
			 */                                                                                                                                                                                                                                                         
			_onObjectMatched : function (oEvent) {                                                                                                                                                                                                                      
					var sObjectId =  oEvent.getParameter("arguments").objectId;                                                                                                                                                                                               
				// this.getModel().metadataLoaded().then( function() {                                                                                                                                                                                                     
				// 	var sObjectPath = this.getModel().createKey("VarHeadSet", {                                                                                                                                                                                            
				// 		Name :  sObjectId                                                                                                                                                                                                                                     
				// 	});                                                                                                                                                                                                                                                    
				// 	this._bindView("/" + sObjectPath);                                                                                                                                                                                                                     
				// }.bind(this));                                                                                                                                                                                                                                          
				this._fillModelByVarName(sObjectId);                                                                                                                                                                                                                       
			},                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			/**                                                                                                                                                                                                                                                         
			 * Binds the view to the object path.                                                                                                                                                                                                                       
			 * @function                                                                                                                                                                                                                                                
			 * @param {string} sObjectPath path to the object to be bound                                                                                                                                                                                               
			 * @private                                                                                                                                                                                                                                                 
			 */                                                                                                                                                                                                                                                         
			_bindView : function (sObjectPath) {                                                                                                                                                                                                                        
				var oViewModel = this.getModel("objectView"),                                                                                                                                                                                                              
					oDataModel = this.getModel();                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				this.getView().bindElement({                                                                                                                                                                                                                               
					path: sObjectPath,                                                                                                                                                                                                                                        
					events: {                                                                                                                                                                                                                                                 
						change: this._onBindingChange.bind(this),                                                                                                                                                                                                                
						dataRequested: function () {                                                                                                                                                                                                                             
							oDataModel.metadataLoaded().then(function () {                                                                                                                                                                                                          
								// Busy indicator on view should only be set if metadata is loaded,                                                                                                                                                                                    
								// otherwise there may be two busy indications next to each other on the                                                                                                                                                                               
								// screen. This happens because route matched handler already calls '_bindView'                                                                                                                                                                        
								// while metadata is loaded.                                                                                                                                                                                                                           
								oViewModel.setProperty("/busy", true);                                                                                                                                                                                                                 
							});                                                                                                                                                                                                                                                     
						},                                                                                                                                                                                                                                                       
						dataReceived: function () {                                                                                                                                                                                                                              
							oViewModel.setProperty("/busy", false);                                                                                                                                                                                                                 
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
			},                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			_onBindingChange : function () {                                                                                                                                                                                                                            
				var oView = this.getView(),                                                                                                                                                                                                                                
					oViewModel = this.getModel("objectView"),                                                                                                                                                                                                                 
					oElementBinding = oView.getElementBinding();                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
				// No data for the binding                                                                                                                                                                                                                                 
				if (!oElementBinding.getBoundContext()) {                                                                                                                                                                                                                  
					this.getRouter().getTargets().display("objectNotFound");                                                                                                                                                                                                  
					return;                                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				var oResourceBundle = this.getResourceBundle(),                                                                                                                                                                                                            
					oObject = oView.getBindingContext().getObject(),                                                                                                                                                                                                          
					sObjectId = oObject.Name,                                                                                                                                                                                                                                 
					sObjectName = oObject.Description;                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				oViewModel.setProperty("/busy", false);                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				oViewModel.setProperty("/shareSendEmailSubject",                                                                                                                                                                                                           
				oResourceBundle.getText("shareSendEmailObjectSubject", [sObjectId]));                                                                                                                                                                                      
				oViewModel.setProperty("/shareSendEmailMessage",                                                                                                                                                                                                           
				oResourceBundle.getText("shareSendEmailObjectMessage", [sObjectName, sObjectId, location.href]));                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _fillModelByVarName: function(ivVarName){                                                                                                                                                                                                                 
				var oVarValueSrvSet = {};                                                                                                                                                                                                                                  
				oVarValueSrvSet.serviceUrl = "/sap/opu/odata/SAP/ZWEB_ABAP_DEMO1_SRV";                                                                                                                                                                                     
				oVarValueSrvSet.entityPath = "/VarHeadSet('" + ivVarName.toString() + "')?$expand=VarID2Values";                                                                                                                                                           
                                                                                                                                                                                                                                                               
				this.ODataFeed.getJsonModelEntity(oVarValueSrvSet).then(                                                                                                                                                                                                   
					this._VarValModelOk.bind(this),                                                                                                                                                                                                                           
					this._VarValModelError.bind(this)                                                                                                                                                                                                                         
				);&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _VarValModelOk: function(oModelJson){                                                                                                                                                                                                                     
			 // https://stackoverflow.com/questions/38485694/filter-omodel-on-read/38486997                                                                                                                                                                             
				this.getView().setModel(oModelJson, "VarValSet");                                                                                                                                                                                                          
				this._setNotBusy();                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _VarValModelError: function(oError){                                                                                                                                                                                                                      
				sap.m.MessageToast.show("...не удалось прочитать данные для модели VarValSet...");                                                                                                                                                                         
				this._setNotBusy();                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _setNotBusy: function(){                                                                                                                                                                                                                                  
				var objectViewModel = this.getModel("objectView");                                                                                                                                                                                                         
				objectViewModel.setProperty("/busy", false);                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, ShowMode: function(oEvent){                                                                                                                                                                                                                               
				this._setEditable(false);                                                                                                                                                                                                                                  
				this._OpenClosePanel(false);                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, EditMode: function(oEvent){                                                                                                                                                                                                                               
				this._setEditable(true);                                                                                                                                                                                                                                   
				this._OpenClosePanel(true);                                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
			, _setEditable: function(ifEditable){                                                                                                                                                                                                                       
				this._setControlEditable("VarIDfield", ifEditable);                                                                                                                                                                                                        
				this._setControlEditable("VarDescfield", ifEditable);                                                                                                                                                                                                      
				this._setControlEditable("VarTypeField", ifEditable);                                                                                                                                                                                                      
				this._setControlEditable("VarFastValField", ifEditable);                                                                                                                                                                                                   
				this._setControlEditable("VarIsDelField", ifEditable);                                                                                                                                                                                                     
				this._setControlEditable("VarDebugIsOnField", ifEditable);                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _setControlEditable: function(sControlName, ifEditable){                                                                                                                                                                                                  
				var oVarControl = this.byId(sControlName);                                                                                                                                                                                                                 
				if(oVarControl){                                                                                                                                                                                                                                           
					oVarControl.setEditable(ifEditable);	                                                                                                                                                                                                                     
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _OpenClosePanel: function(ifOpenPanel){                                                                                                                                                                                                                   
			//	var oButAdd = this.byId("addActionButtonTag");                                                                                                                                                                                                           
			//	oButAdd.setVisible(ifOpenPanel);                                                                                                                                                                                                                         
				var oButAddTag = this.byId("AddActionButtonCtrl");                                                                                                                                                                                                         
				oButAddTag.setVisible(ifOpenPanel);                                                                                                                                                                                                                        
			                                                                                                                                                                                                                                                            
			//	var oButEdit = this.byId("editActionButtonTag");                                                                                                                                                                                                         
			//	oButEdit.setVisible(ifOpenPanel);                                                                                                                                                                                                                        
				var oButEditTag = this.byId("EditActionButtonCtrl");                                                                                                                                                                                                       
				oButEditTag.setVisible(ifOpenPanel);                                                                                                                                                                                                                       
				                                                                                                                                                                                                                                                           
			//	var oButDelete = this.byId("deleteActionButtonTag");                                                                                                                                                                                                     
			//	oButDelete.setVisible(ifOpenPanel);                                                                                                                                                                                                                      
				var oButDeleteTag = this.byId("DeleteActionButtonCtrl");                                                                                                                                                                                                   
				oButDeleteTag.setVisible(ifOpenPanel);                                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, onCreateRecord: function(oEvent){                                                                                                                                                                                                                         
				var oVarHeadSrv = {};                                                                                                                                                                                                                                      
				oVarHeadSrv.serviceUrl = "/sap/opu/odata/SAP/ZWEB_ABAP_DEMO1_SRV";                                                                                                                                                                                         
				oVarHeadSrv.entityPath = "/VarHeadSet";                                                                                                                                                                                                                    
				                                                                                                                                                                                                                                                           
				oVarHeadSrv.Entry = this._getInputEntry();                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				this.ODataFeed.createRequest(oVarHeadSrv).then(                                                                                                                                                                                                            
					this._createOk.bind(this),                                                                                                                                                                                                                                
					this._createError.bind(this)                                                                                                                                                                                                                              
				);                                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _getInputEntry: function(){                                                                                                                                                                                                                               
				var oModelJson = this.getView().getModel("VarValSet");                                                                                                                                                                                                     
				var oEntry = {                                                                                                                                                                                                                                             
					"Name" : oModelJson.getProperty("/d/Name"),                                                                                                                                                                                                               
					"Description" : oModelJson.getProperty("/d/Description"),                                                                                                                                                                                                 
					"VarType" : oModelJson.getProperty("/d/VarType"),                                                                                                                                                                                                         
					"IsDel" : oModelJson.getProperty("/d/IsDel"),                                                                                                                                                                                                             
					"DebugIsOn" : oModelJson.getProperty("/d/DebugIsOn"),                                                                                                                                                                                                     
					"FastVal" : oModelJson.getProperty("/d/FastVal")                                                                                                                                                                                                          
				};                                                                                                                                                                                                                                                         
				return oEntry;                                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _createOk: function(){                                                                                                                                                                                                                                    
				sap.m.MessageToast.show("...Запрос на создание выполнен успешно...");                                                                                                                                                                                      
				this.onNavBack();                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _createError: function(){                                                                                                                                                                                                                                 
				sap.m.MessageToast.show("...Запрос на создание выполнен с ошибкой...");                                                                                                                                                                                    
				this.onNavBack();                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, onUpdateRecord: function(oEvent){                                                                                                                                                                                                                         
				var oVarHeadSrv = {};                                                                                                                                                                                                                                      
				oVarHeadSrv.Entry = this._getInputEntry();                                                                                                                                                                                                                 
				oVarHeadSrv.serviceUrl = "/sap/opu/odata/SAP/ZWEB_ABAP_DEMO1_SRV";                                                                                                                                                                                         
				//&nbsp;                                                                                                                                                                                                                                                   
				oVarHeadSrv.entityPath = "/VarHeadSet('" + oVarHeadSrv.Entry.Name.toString() + "')";                                                                                                                                                                       
				                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				this.ODataFeed.updateRequest(oVarHeadSrv).then(                                                                                                                                                                                                            
					this._updateOk.bind(this),                                                                                                                                                                                                                                
					this._updateError.bind(this)                                                                                                                                                                                                                              
				);                                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _updateOk: function(){                                                                                                                                                                                                                                    
				sap.m.MessageToast.show("...Запрос на обновление выполнен успешно...");                                                                                                                                                                                    
				this.onNavBack();                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _updateError: function(){                                                                                                                                                                                                                                 
				sap.m.MessageToast.show("...Запрос на обновление выполнен с ошибкой...");                                                                                                                                                                                  
				this.onNavBack();                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, onDeleteRecord: function(oEvent){                                                                                                                                                                                                                         
				var oVarHeadSrv = {};                                                                                                                                                                                                                                      
				oVarHeadSrv.Entry = this._getInputEntry();                                                                                                                                                                                                                 
				oVarHeadSrv.serviceUrl = "/sap/opu/odata/SAP/ZWEB_ABAP_DEMO1_SRV";                                                                                                                                                                                         
				//&nbsp;                                                                                                                                                                                                                                                   
				oVarHeadSrv.entityPath = "/VarHeadSet('" + oVarHeadSrv.Entry.Name.toString() + "')";                                                                                                                                                                       
				                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				this.ODataFeed.deleteRequest(oVarHeadSrv).then(                                                                                                                                                                                                            
					this._deleteOk.bind(this),                                                                                                                                                                                                                                
					this._deleteError.bind(this)                                                                                                                                                                                                                              
				);                                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _deleteOk: function(){                                                                                                                                                                                                                                    
				sap.m.MessageToast.show("...Запрос на удаление выполнен успешно...");                                                                                                                                                                                      
				this.onNavBack();                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _deleteError: function(){                                                                                                                                                                                                                                 
				sap.m.MessageToast.show("...Запрос на удаление выполнен с ошибкой...");                                                                                                                                                                                    
				this.onNavBack();                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			                                                                                                                                                                                                                                                            
			, BatchRequestCall: function(oEvent){                                                                                                                                                                                                                       
				// for update several calls                                                                                                                                                                                                                                
				var oVarSrv = {};                                                                                                                                                                                                                                          
				oVarSrv.serviceUrl = "/sap/opu/odata/SAP/ZWEB_ABAP_DEMO3_SRV";                                                                                                                                                                                             
				oVarSrv.entityPathHead = "/VarHSet";                                                                                                                                                                                                                       
				oVarSrv.entityPathItem = "/VarISet";                                                                                                                                                                                                                       
				                                                                                                                                                                                                                                                           
				var mParameters = {                                                                                                                                                                                                                                        
						headers: {                                                                                                                                                                                                                                               
							"X-CSRF-Token": "Fetch"                                                                                                                                                                                                                                 
						},                                                                                                                                                                                                                                                       
						defaultUpdateMethod: sap.ui.model.odata.UpdateMethod.Put,                                                                                                                                                                                                
						useBatch: true                                                                                                                                                                                                                                           
					};                                                                                                                                                                                                                                                        
				                                                                                                                                                                                                                                                           
				                                                                                                                                                                                                                                                           
				var headEntry = this._getInputEntry();                                                                                                                                                                                                                     
				var headEntryPath = "/VarHSet('" + headEntry.Name + "')";                                                                                                                                                                                                  
				                                                                                                                                                                                                                                                           
				                                                                                                                                                                                                                                                           
				var itemEntry1 = {                                                                                                                                                                                                                                         
					"VarName" : headEntry.Name,                                                                                                                                                                                                                               
					"VarNumb" : "0001",                                                                                                                                                                                                                                       
					"Sign" : "I",                                                                                                                                                                                                                                             
					"Opti" : "EQ",                                                                                                                                                                                                                                            
					"Low" : "ZZZZ1"                                                                                                                                                                                                                                           
				};                                                                                                                                                                                                                                                         
				var itemEntry1Path = "/VarISet(VarName='" + itemEntry1.VarName + "',VarNumb='" + itemEntry1.VarNumb + "')";                                                                                                                                                
				                                                                                                                                                                                                                                                           
				var itemEntry2 = {                                                                                                                                                                                                                                         
					"VarName" : headEntry.Name,                                                                                                                                                                                                                               
					"VarNumb" : "0002",                                                                                                                                                                                                                                       
					"Sign" : "I",                                                                                                                                                                                                                                             
					"Opti" : "EQ",                                                                                                                                                                                                                                            
					"Low" : "YYYYY1"                                                                                                                                                                                                                                          
				};                                                                                                                                                                                                                                                         
				var itemEntry2Path = "/VarISet(VarName='" + itemEntry2.VarName + "',VarNumb='" + itemEntry2.VarNumb + "')";                                                                                                                                                
				                                                                                                                                                                                                                                                           
				var oModelUpdate = new sap.ui.model.odata.v2.ODataModel(oVarSrv.serviceUrl, mParameters);                                                                                                                                                                  
				oModelUpdate.update(headEntryPath, headEntry);                                                                                                                                                                                                             
				oModelUpdate.update(itemEntry1Path, itemEntry1);                                                                                                                                                                                                           
				oModelUpdate.update(itemEntry2Path, itemEntry2);                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
				oModelUpdate.submitChanges({                                                                                                                                                                                                                               
					    success: this._successBatchHeadItem,&nbsp;                                                                                                                                                                                                            
					    error: this._errorBatchHeadItem                                                                                                                                                                                                                       
					});                                                                                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
			                                                                                                                                                                                                                                                            
			, _successBatchHeadItem: function(Response){                                                                                                                                                                                                                
				sap.m.MessageToast.show(Response.toString());                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
			, _errorBatchHeadItem: function(Response){                                                                                                                                                                                                                  
				sap.m.MessageToast.show(Response.toString());                                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			                                                                                                                                                                                                                                                            
		});                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
	}                                                                                                                                                                                                                                                             
);                                                                                                                                                                                                                                                             